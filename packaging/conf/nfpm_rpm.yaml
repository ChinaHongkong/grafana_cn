# nfpm version 2.22.1
# build for rpm
name: "grafana"
arch: "x86_64"
platform: "linux"
version: "9.2.5"
section: "default"
priority: "extra"
replaces:
  - grafana
provides:
  - grafana-server
  - grafana-cli
maintainer: "<contact@grafana.com>"
description: |
  Grafana
vendor: "Grafana"
homepage: "https://grafana.com"
license: "Apache 2"
contents:
  - src: ./bin/linux-amd64/grafana-server
    dst: /usr/sbin/grafana-server
  - src: ./bin/linux-amd64/grafana-cli
    dst: /usr/sbin/grafana-cli
  - src: ./packaging/rpm/init.d/grafana-server
    dst: /etc/init.d/grafana-server
  - src: ./packaging/rpm/sysconfig/grafana-server
    dst: /etc/sysconfig/grafana-server
    type: config|noreplace
  - src: ./packaging/rpm/systemd/grafana-server.service
    dst: /usr/lib/systemd/system/grafana-server.service
  - src: ./public/
    dst: /usr/share/grafana/public
  - src: ./conf/
    dst: /usr/share/grafana/conf
scripts:
  postinstall: ./packaging/rpm/control/postinst

rpm:
  scripts:
    posttrans: ./packaging/rpm/control/posttrans
